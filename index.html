<html lang="it"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enigma di Compleanno per Eleonora</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&amp;family=Lato:wght@300;400;700&amp;display=swap">
    <style>
        body {
            font-family: 'Lato', sans-serif;
            background-color: #0c0c0c;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23f0c75e' fill-opacity='0.05'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        h1, h2, h3, h4 {
            font-family: 'Cinzel', serif;
        }
        .hufflepuff-border {
            border: 2px solid #f0c75e;
        }
        .hufflepuff-bg {
            background-color: #f0c75e;
        }
        .hufflepuff-text {
            color: #f0c75e;
        }
        .parchment {
            background-color: #f5e7c1;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23e6d5a5' fill-opacity='0.2' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        .magical-shadow {
            box-shadow: 0 0 15px rgba(240, 199, 94, 0.5);
        }
        .wand-cursor {
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%23f0c75e' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E"), auto;
        }
        .magical-transition {
            transition: all 0.5s ease;
        }
        .magical-transition:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(240, 199, 94, 0.3);
        }
        .snitch {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #f0c75e;
            border-radius: 50%;
            box-shadow: 0 0 10px #f0c75e;
            animation: fly 20s infinite alternate;
            z-index: 10;
            opacity: 0.7;
        }
        @keyframes fly {
            0% { transform: translate(0, 0); }
            25% { transform: translate(100px, 50px); }
            50% { transform: translate(200px, -50px); }
            75% { transform: translate(100px, 100px); }
            100% { transform: translate(0, 0); }
        }
        .hidden {
            display: none;
        }
        .fade-in {
            animation: fadeIn 1s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .shake {
            animation: shake 0.5s;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        .rotate-lock {
            transition: transform 0.5s ease;
        }
        .rotate-lock.unlocked {
            transform: rotate(90deg);
        }
        .star {
            display: inline-block;
            margin: 0 2px;
            animation: twinkle 1.5s infinite alternate;
        }
        @keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 1s ease-out forwards;
}
        @keyframes twinkle {
            from { opacity: 0.4; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1.1); }
        }
        .constellation line {
            stroke: #f0c75e;
            stroke-width: 2;
            stroke-dasharray: 5;
            stroke-dashoffset: 1000;
            animation: drawLine 3s forwards;
        }
        @keyframes drawLine {
            to { stroke-dashoffset: 0; }
        }
        .ticket {
            position: relative;
            background: linear-gradient(135deg, #f0c75e 0%, #eeba30 100%);
            border-radius: 8px;
            padding: 20px;
            color: #000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        .ticket:before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px;
            right: 20px;
            height: 2px;
            background: repeating-linear-gradient(90deg, #000, #000 5px, transparent 5px, transparent 10px);
        }
        .ticket:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 20px;
            right: 20px;
            height: 2px;
            background: repeating-linear-gradient(90deg, #000, #000 5px, transparent 5px, transparent 10px);
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-24{height:6rem}.h-32{height:8rem}.h-40{height:10rem}.h-64{height:16rem}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-24{width:6rem}.w-32{width:8rem}.w-40{width:10rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.cursor-grab{cursor:grab}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-amber-200{--tw-border-opacity:1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-600{--tw-border-opacity:1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.bg-amber-100{--tw-bg-opacity:1;background-color:rgb(254 243 199 / var(--tw-bg-opacity, 1))}.bg-amber-200{--tw-bg-opacity:1;background-color:rgb(253 230 138 / var(--tw-bg-opacity, 1))}.bg-amber-800{--tw-bg-opacity:1;background-color:rgb(146 64 14 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-200{--tw-bg-opacity:1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1))}.bg-emerald-300{--tw-bg-opacity:1;background-color:rgb(110 231 183 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-200{--tw-bg-opacity:1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.bg-purple-200{--tw-bg-opacity:1;background-color:rgb(233 213 255 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.pl-5{padding-left:1.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.italic{font-style:italic}.text-black{--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-amber-700:hover{--tw-bg-opacity:1;background-color:rgb(180 83 9 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-800:hover{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-gray-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(107 114 128 / var(--tw-ring-opacity, 1))}.focus\:ring-yellow-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(234 179 8 / var(--tw-ring-opacity, 1))}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-gray-400:disabled{--tw-bg-opacity:1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}@media (min-width: 768px){.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.md\:text-3xl{font-size:1.875rem;line-height:2.25rem}.md\:text-4xl{font-size:2.25rem;line-height:2.5rem}}</style></head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">
    <!-- Pagina iniziale -->
    <div id="welcome-page" class="max-w-2xl w-full p-8 rounded-lg border-2 border-gray-300 bg-white text-center fade-in">
        <h1 class="text-3xl md:text-4xl font-bold mb-6 text-gray-800">Buon Compleanno Eleonora!</h1>
        <p class="mb-6 text-lg">Un messaggio misterioso è arrivato per te. Sei pronta a scoprire cosa ti aspetta?</p>
        <div class="mb-6">
            <svg class="mx-auto w-24 h-24" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="20" y="30" width="60" height="40" fill="#e2e2e2" stroke="#333" stroke-width="2"></rect>
                <rect x="35" y="45" width="30" height="15" fill="#333"></rect>
                <circle cx="50" cy="52" r="5" fill="#e2e2e2"></circle>
            </svg>
        </div>
        <button id="start-button" class="px-6 py-3 bg-gray-800 text-white rounded-md hover:bg-gray-700 transition-colors font-semibold text-lg magical-transition">
            Inizia l'avventura
        </button>
    </div>

    <!-- Enigma 1: Codice numerico (non Harry Potter) -->
    <div id="lock-page" class="max-w-2xl w-full p-8 rounded-lg border-2 border-gray-300 bg-white text-center hidden">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">Il Lucchetto Misterioso</h2>
        <p class="mb-6">Per procedere, devi sbloccare questo lucchetto. Risolvi l'indovinello per trovare il codice:</p>
        
        <div class="mb-8 p-4 bg-gray-100 rounded-lg">
            <p class="italic text-lg">"Sono il giorno in cui sei nata, più il mese del tuo compleanno, più l'anno in cui ci siamo conosciuti."</p>
        </div>
        
        <div class="flex justify-center mb-8">
            <svg class="w-24 h-24 rotate-lock" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="30" y="40" width="40" height="40" rx="5" fill="#333"></rect>
                <path d="M40 40V25C40 19.5 44.5 15 50 15C55.5 15 60 19.5 60 25V40" stroke="#333" stroke-width="5"></path>
                <circle cx="50" cy="60" r="8" fill="#f5f5f5"></circle>
                <path d="M50 55V65" stroke="#333" stroke-width="3"></path>
            </svg>
        </div>
        
        <div class="mb-6">
            <input type="text" id="lock-code" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500" placeholder="Inserisci il codice...">
        </div>
        
        <button id="unlock-button" class="px-6 py-3 bg-gray-800 text-white rounded-md hover:bg-gray-700 transition-colors font-semibold">
            Sblocca
        </button>
        
        <p id="lock-feedback" class="mt-4 text-red-600 hidden">Codice errato. Riprova!</p>
        <p id="lock-hint" class="mt-2 text-gray-600 hidden">Suggerimento: Usa il formato GGMMAAAA (es. 15072019)</p>
    </div>


    <!-- Enigma 1: Smistamento -->
    <div id="sorting-page" class="max-w-2xl w-full p-8 rounded-lg hufflepuff-border magical-shadow parchment text-center hidden">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-black">Il Cappello Parlante</h2>
        <p class="mb-6">Prima di procedere, il Cappello Parlante deve confermare la tua casa. Rispondi alla domanda:</p>
        
        <div class="mb-8 p-4 bg-amber-100 rounded-lg">
            <p class="italic text-lg">"Lealtà, pazienza e dedizione sono le qualità che cerco. Qual è la casa di Hogwarts che rappresenta questi valori?"</p>
        </div>
        
        <div class="grid grid-cols-2 gap-4 mb-6">
            <button class="house-btn px-4 py-2 bg-red-700 text-white rounded-md hover:bg-red-800 transition-colors">Grifondoro</button>
            <button class="house-btn px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors">Serpeverde</button>
            <button class="house-btn px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors">Corvonero</button>
            <button class="house-btn px-4 py-2 bg-yellow-500 text-black rounded-md hover:bg-yellow-600 transition-colors" data-correct="true">Tassorosso</button>
        </div>
        
        <p id="sorting-feedback" class="text-red-600 mb-4 hidden">Riprova, questa non è la tua casa!</p>
    </div>

    <!-- Enigma 3: Pozione (indizio più chiaro verso Harry Potter) -->
    <div id="potion-page" class="max-w-2xl w-full p-8 rounded-lg border-2 border-amber-200 bg-white text-center hidden">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gray-800">L'Arte delle Pozioni</h2>
        <p class="mb-6">Per procedere, devi preparare una pozione speciale. Trascina gli ingredienti nel calderone nell'ordine corretto:</p>
        
        <div class="flex justify-center mb-8">
            <div id="cauldron" class="w-40 h-40 bg-gray-800 rounded-full flex items-center justify-center border-4 border-gray-600">
                <div class="w-32 h-32 bg-emerald-300 rounded-full flex items-center justify-center">
                    <p class="text-black font-bold">Calderone</p>
                </div>
            </div>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            <div class="ingredient p-2 bg-amber-200 rounded-md cursor-grab" draggable="true" data-order="3">
                Radice di Mandragola
            </div>
            <div class="ingredient p-2 bg-purple-200 rounded-md cursor-grab" draggable="true" data-order="1">
                Polvere di Luna
            </div>
            <div class="ingredient p-2 bg-blue-200 rounded-md cursor-grab" draggable="true" data-order="4">
                Lacrima di Fenice
            </div>
            <div class="ingredient p-2 bg-green-200 rounded-md cursor-grab" draggable="true" data-order="2">
                Foglie di Tassorosso
            </div>
        </div>
        
        <div class="mb-4">
            <p id="potion-sequence" class="text-gray-700">Sequenza: </p>
        </div>
        
        <button id="brew-potion" class="px-6 py-3 bg-amber-800 text-white rounded-md hover:bg-amber-700 transition-colors font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed" disabled="">
            Prepara la Pozione
        </button>
        
        <p id="potion-feedback" class="mt-4 text-red-600 hidden">L'ordine non è corretto. Riprova!</p>
    </div>

    <!-- Enigma 4: Indovinello con citazione (indizio Harry Potter) -->
    <div id="riddle-page" class="max-w-2xl w-full p-8 rounded-lg hufflepuff-border magical-shadow parchment text-center hidden">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-black">L'Indovinello Magico</h2>
        <p class="mb-6">Per procedere verso il tuo regalo, risolvi questo indovinello:</p>
        
        <div class="mb-8 p-4 bg-amber-100 rounded-lg">
            <p class="italic text-lg">"Sono invisibile ma posso essere catturato, sono prezioso ma non ho valore materiale, sono fatto per essere condiviso ma spesso lo teniamo per noi. Cosa sono?"</p>
        </div>
        
        <div class="mb-6">
            <input type="text" id="riddle-answer" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500" placeholder="La tua risposta...">
        </div>
        
        <button id="check-riddle" class="px-6 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors font-semibold">
            Verifica Risposta
        </button>
        
        <p id="riddle-feedback" class="mt-4 text-red-600 hidden">Non è la risposta corretta. Riprova!</p>
        <p id="riddle-hint" class="mt-2 text-gray-600 hidden">Suggerimento: È qualcosa che si forma sul viso quando sei felice.</p>
    </div>

    <!-- Enigma 5: Mappa del Malandrino -->
    <div id="map-page" class="max-w-2xl w-full p-8 rounded-lg hufflepuff-border magical-shadow parchment text-center hidden">
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-black">La Mappa Misteriosa</h2>
        <p class="mb-6">La mappa rivela un messaggio nascosto. Trova le parole magiche per attivare la mappa:</p>
        
        <div class="mb-8 p-4 bg-amber-100 rounded-lg relative">
            <div id="map-overlay" class="absolute inset-0 bg-amber-100 flex items-center justify-center">
                <p class="text-gray-400">Tocca la mappa e pronuncia le parole magiche...</p>
            </div>
            <div id="map-content" class="hidden">
                <p class="italic text-lg">Cara Eleonora,</p>
                <p class="italic">Sei quasi alla fine del tuo viaggio magico. Un ultimo incantesimo ti separa dal tuo regalo di compleanno.</p>
                <p class="italic">Cerca l'incantesimo che rivela ciò che è nascosto...</p>
            </div>
        </div>
        
        <div class="mb-6">
            <input type="text" id="map-password" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500" placeholder="Pronuncia l'incantesimo...">
        </div>
        
        <button id="activate-map" class="px-6 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors font-semibold">
            Attiva la Mappa
        </button>
        
        <p id="map-feedback" class="mt-4 text-red-600 hidden">Incantesimo errato. Riprova!</p>
        <p id="map-hint" class="mt-2 text-gray-600 hidden">Suggerimento: "Giuro solennemente di..."</p>
    </div>

    <!-- Pagina finale: Rivelazione del regalo -->
    <div id="gift-page" class="max-w-3xl w-full p-8 rounded-lg hufflepuff-border magical-shadow parchment text-center hidden">
        <h2 class="text-3xl md:text-4xl font-bold mb-6 text-black">Congratulazioni Eleonora!</h2>
        
        <div class="mb-8">
            <svg class="mx-auto w-32 h-32" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 10C27.9086 10 10 27.9086 10 50C10 72.0914 27.9086 90 50 90C72.0914 90 90 72.0914 90 50C90 27.9086 72.0914 10 50 10Z" fill="#FFDB00" stroke="#000000" stroke-width="2"></path>
                <path d="M30 40H70V60H30V40Z" fill="#000000"></path>
                <path d="M40 30V70H60V30H40Z" fill="#000000"></path>
            </svg>
        </div>
        
        <p class="mb-6 text-lg">Hai completato con successo tutti gli enigmi! Il tuo regalo è:</p>
        
        <div class="mb-8 ticket">
            <h3 class="text-2xl md:text-3xl font-bold mb-4">2 Biglietti VIP per Harry Potter™: The Exhibition!</h3>
            <div class="flex justify-center mb-4">
                <svg class="w-24 h-24" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50 10L55 35H80L60 50L70 80L50 65L30 80L40 50L20 35H45L50 10Z" fill="#000" stroke="#000" stroke-width="2"></path>
                </svg>
            </div>
            <p class="mb-4">Un'incredibile esperienza interattiva con oggetti di scena autentici, costumi e ricostruzioni di scene iconiche dai film di Harry Potter!</p>
            <p class="italic">Esplora oltre 20 sezioni magiche, cerca i medaglioni del Boccino d'Oro e raccogli punti per Tassorosso!</p>
            <div class="mt-4 p-2 bg-black text-white rounded-md">
                <p>ACCESSO VIP • ELEONORA + 1</p>
            </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="p-4 bg-amber-100 rounded-lg">
                <h4 class="font-bold mb-2">Cosa vedrai:</h4>
                <ul class="text-left list-disc pl-5">
                    <li>Oggetti di scena autentici</li>
                    <li>Costumi originali dei film</li>
                    <li>Ambientazioni iconiche</li>
                    <li>Attività interattive</li>
                </ul>
            </div>
            <div class="p-4 bg-amber-100 rounded-lg">
                <h4 class="font-bold mb-2">Esperienze speciali:</h4>
                <ul class="text-left list-disc pl-5">
                    <li>Preparare pozioni</li>
                    <li>Lanciare incantesimi</li>
                    <li>Visitare la capanna di Hagrid</li>
                    <li>Esplorare l'armadio sotto le scale</li>
                </ul>
            </div>
        </div>
        
        <p class="text-lg font-bold mb-4">Buon compleanno, amore mio! Ti amo ❤️</p>
        
        <button id="restart-button" class="px-6 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition-colors font-semibold magical-transition">
            Ricomincia l'avventura
        </button>
    </div>
    <div id="messaggio"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elementi delle pagine
            const welcomePage = document.getElementById('welcome-page');
            const lockPage = document.getElementById('lock-page');
            const constellationPage = document.getElementById('constellation-page');
            const potionPage = document.getElementById('potion-page');
            const riddlePage = document.getElementById('riddle-page');

            const sortingPage = document.getElementById('sorting-page');
            const mapPage = document.getElementById('map-page');
            const giftPage = document.getElementById('gift-page');
            
            // Bottoni e feedback
            const startButton = document.getElementById('start-button');
            const unlockButton = document.getElementById('unlock-button');
            const lockCode = document.getElementById('lock-code');
            const lockFeedback = document.getElementById('lock-feedback');
            const lockHint = document.getElementById('lock-hint');
            const checkConstellationButton = document.getElementById('check-constellation');
            const constellationSequence = document.getElementById('constellation-sequence');
            const constellationFeedback = document.getElementById('constellation-feedback');
            const constellationHint = document.getElementById('constellation-hint');
                        const sortingFeedback = document.getElementById('sorting-feedback');

            const brewPotionButton = document.getElementById('brew-potion');
            const potionFeedback = document.getElementById('potion-feedback');
            const potionSequence = document.getElementById('potion-sequence');
            const checkRiddleButton = document.getElementById('check-riddle');
            const riddleAnswer = document.getElementById('riddle-answer');
            const riddleFeedback = document.getElementById('riddle-feedback');

            const houseButtons = document.querySelectorAll('.house-btn');
            const riddleHint = document.getElementById('riddle-hint');
            const mapPassword = document.getElementById('map-password');
            const activateMapButton = document.getElementById('activate-map');
            const mapFeedback = document.getElementById('map-feedback');
            const mapHint = document.getElementById('map-hint');
            const mapOverlay = document.getElementById('map-overlay');
            const mapContent = document.getElementById('map-content');
            const restartButton = document.getElementById('restart-button');
            
            // Variabili per gli enigmi
            let lockAttempts = 0;
            let selectedStars = [];
            let potionIngredients = [];
            let riddleAttempts = 0;
            let mapAttempts = 0;
            
            // Inizia l'avventura
            startButton.addEventListener('click', function() {
                welcomePage.classList.add('hidden');
                lockPage.classList.remove('hidden');
                lockPage.classList.add('fade-in');
            });
            
            // Enigma 1: Lucchetto numerico
            unlockButton.addEventListener('click', function() {
                const code = lockCode.value.trim();
                // Codice esempio: giorno + mese + anno (es. 15 + 06 + 2019)
                // Puoi cambiare questo codice con la data reale
                if (code === "19052014") {
                    document.querySelector('.rotate-lock').classList.add('unlocked');
                    setTimeout(() => {
                        lockPage.classList.add('hidden');
                        sortingPage.classList.remove('hidden');
                        sortingPage.classList.add('fade-in');
                    }, 1000);
                } else {
                    lockFeedback.classList.remove('hidden');
                    lockCode.classList.add('shake');
                    setTimeout(() => {
                        lockCode.classList.remove('shake');
                    }, 500);
                    
                    lockAttempts++;
                    if (lockAttempts >= 2) {
                        lockHint.classList.remove('hidden');
                    }
                }
            });


            // Enigma 1: Smistamento
            houseButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (button.dataset.correct === 'true') {
                        sortingPage.classList.add('hidden');
                        potionPage.classList.remove('hidden');
                        potionPage.classList.add('fade-in');
                        // Aggiungi elementi magici alla pagina delle pozioni
                            document.body.classList.add('wand-cursor');
                            
                            // Aggiungi boccini d'oro volanti
                            for (let i = 0; i < 2; i++) {
                                const snitch = document.createElement('div');
                                snitch.classList.add('snitch');
                                snitch.style.top = `${Math.random() * 80 + 10}%`;
                                snitch.style.left = `${Math.random() * 80 + 10}%`;
                                snitch.style.animationDelay = `${i * 2}s`;
                                document.body.appendChild(snitch);
                            }
                    } else {
                        sortingFeedback.classList.remove('hidden');
                        button.classList.add('shake');
                        setTimeout(() => {
                            button.classList.remove('shake');
                        }, 500);
                    }
                });
            });
            
            
            
            // Enigma 3: Pozione
            const ingredients = document.querySelectorAll('.ingredient');
            const cauldron = document.getElementById('cauldron');
            
            ingredients.forEach(ing => {
                ing.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', ing.dataset.order);
                });
            });
            
            cauldron.addEventListener('dragover', function(e) {
                e.preventDefault();
            });
            
            cauldron.addEventListener('drop', function(e) {
                e.preventDefault();
                const order = e.dataTransfer.getData('text/plain');
                const ingredient = document.querySelector(`.ingredient[data-order="${order}"]`);
                
                if (ingredient) {
                    potionIngredients.push(parseInt(order));
                    potionSequence.textContent = `Sequenza: ${potionIngredients.join(' → ')}`;
                    ingredient.classList.add('opacity-50');
                    ingredient.setAttribute('draggable', 'false');
                    
                    if (potionIngredients.length === 4) {
                        brewPotionButton.disabled = false;
                    }
                }
            });
            
            brewPotionButton.addEventListener('click', function() {
                const correctSequence = [1, 2, 3, 4].toString();
                if (potionIngredients.toString() === correctSequence) {
                    potionPage.classList.add('hidden');
                    riddlePage.classList.remove('hidden');
                    riddlePage.classList.add('fade-in');
                } else {
                    potionFeedback.classList.remove('hidden');
                    // Reset pozione
                    potionIngredients = [];
                    potionSequence.textContent = 'Sequenza: ';
                    brewPotionButton.disabled = true;
                    ingredients.forEach(ing => {
                        ing.classList.remove('opacity-50');
                        ing.setAttribute('draggable', 'true');
                    });
                    setTimeout(() => {
                        potionFeedback.classList.add('hidden');
                    }, 3000);
                }
            });
            
            // Enigma 4: Indovinello
            checkRiddleButton.addEventListener('click', function() {
                const answer = riddleAnswer.value.toLowerCase().trim();
                const correctAnswers = ['sorriso', 'un sorriso', 'il sorriso'];
                
                if (correctAnswers.includes(answer)) {
                    riddlePage.classList.add('hidden');
                    mapPage.classList.remove('hidden');
                    mapPage.classList.add('fade-in');
                } else {
                    riddleFeedback.classList.remove('hidden');
                    riddleAnswer.classList.add('shake');
                    setTimeout(() => {
                        riddleAnswer.classList.remove('shake');
                    }, 500);
                    
                    riddleAttempts++;
                    if (riddleAttempts >= 2) {
                        riddleHint.classList.remove('hidden');
                    }
                }
            });
            
            // Enigma 5: Mappa del Malandrino
            mapOverlay.addEventListener('click', function() {
                mapOverlay.classList.add('hidden');
                mapContent.classList.remove('hidden');
            });
            
            activateMapButton.addEventListener('click', function() {
                const password = mapPassword.value.toLowerCase().trim();
                const correctPasswords = [
                    'giuro solennemente di non avere buone intenzioni',
                    'giuro solennemente di non aver buone intenzioni',
                    'giuro solennemente che non ho buone intenzioni'
                ];
                
                if (correctPasswords.some(p => password.includes(p))) {
                    mapPage.classList.add('hidden');
                    startMagicSequence();
                } else {
                    mapFeedback.classList.remove('hidden');
                    mapPassword.classList.add('shake');
                    setTimeout(() => {
                        mapPassword.classList.remove('shake');
                    }, 500);
                    
                    mapAttempts++;
                    if (mapAttempts >= 2) {
                        mapHint.classList.remove('hidden');
                    }
                }
            });
            
            // Ricomincia l'avventura
            restartButton.addEventListener('click', function() {
                // Reset di tutti gli enigmi
                lockAttempts = 0;
                selectedStars = [];
                potionIngredients = [];
                riddleAttempts = 0;
                mapAttempts = 0;
                
                // Reset degli elementi UI
                lockCode.value = '';
                lockFeedback.classList.add('hidden');
                lockHint.classList.add('hidden');
                document.querySelector('.rotate-lock').classList.remove('unlocked');
                
                starPoints.forEach(star => {
                    star.setAttribute('r', '4');
                });
                constellationSequence.textContent = `Stelle selezionate: 0/9`;
                checkConstellationButton.disabled = true;
                constellationFeedback.classList.add('hidden');
                constellationHint.classList.add('hidden');
                constellation.classList.add('hidden');
                
                potionSequence.textContent = 'Sequenza: ';
                brewPotionButton.disabled = true;
                ingredients.forEach(ing => {
                    ing.classList.remove('opacity-50');
                    ing.setAttribute('draggable', 'true');
                });
                potionFeedback.classList.add('hidden');
                
                riddleAnswer.value = '';
                riddleFeedback.classList.add('hidden');
                riddleHint.classList.add('hidden');
                
                mapPassword.value = '';
                mapFeedback.classList.add('hidden');
                mapHint.classList.add('hidden');
                mapOverlay.classList.remove('hidden');
                mapContent.classList.add('hidden');
                
                // Torna alla pagina iniziale
                giftPage.classList.add('hidden');
                welcomePage.classList.remove('hidden');
                welcomePage.classList.add('fade-in');
                
                // Rimuovi gli elementi magici
                document.body.classList.remove('wand-cursor');
                document.querySelectorAll('.snitch').forEach(snitch => {
                    snitch.remove();
                });
            });
        });





function startMagicSequence() {
    const giftPage = document.getElementById("gift-page");

    const messages = [
        "Sei pronta per la sorpresa?",
    "Sta per accadere qualcosa di magico...",
    "Preparati, la magia è nell’aria ✨",
    "Ancora qualche secondo...",
    "Il mondo di Harry Potter ti aspetta!",
    "Un cuore gentile merita la magia più grande 💛",
    "La lealtà di Tassorosso è la chiave per aprire questa sorpresa!",
    "Una sorpresa speciale per una strega coraggiosa e sincera",
    "Le magie migliori accadono a chi ha pazienza...",
    "Siediti comoda, Hogwarts ti sta chiamando!",
    "Hai risolto ogni enigma con la forza di chi crede nella gentilezza 🖤",
    "Le sabbie del tempo stanno per rivelare il tuo dono...",
    "Dalla Sala Comune di Tassorosso… con amore e magia!",
    "Ogni secondo che passa ti avvicina al tuo momento incantato ✨",
    "Silenzio... anche la magia trattiene il respiro per te!",
    "Ele, sei pronta?"
    ];

    // Crea il contenitore dei messaggi animati
    const loadingDiv = document.createElement("div");
    loadingDiv.id = "loading-animation";
    loadingDiv.className = "text-center p-8 text-xl font-bold text-white animate-pulse";
    document.getElementById("messaggio").appendChild(loadingDiv);

    let messageIndex = 0;
    const messageInterval = setInterval(() => {
        loadingDiv.textContent = messages[messageIndex];
        messageIndex = (messageIndex + 1) % messages.length;
    }, 3000);

    // Dopo 15 secondi, mostra il regalo
    setTimeout(() => {
        clearInterval(messageInterval);
        loadingDiv.remove();
        giftPage.classList.remove("hidden");
        giftPage.classList.add("animate-fade-in");
    }, 51000);
}



    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'94267e4886fced26',t:'MTc0NzY4ODEwNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: medium; visibility: hidden;"></iframe>
</body></html>
